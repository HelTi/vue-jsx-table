(function(e){function t(t){for(var l,r,i=t[0],s=t[1],c=t[2],d=0,p=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],l=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(l=!1)}l&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var l={},a={index:0},o=[];function r(t){if(l[t])return l[t].exports;var n=l[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=l,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(n,l,function(t){return e[t]}.bind(null,l));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("df31")},"25d6":function(e,t,n){},"2b12":function(e,t,n){},"2b2b":function(e,t,n){},"5a60":function(e,t,n){"use strict";n("2b2b")},"8b56":function(e,t,n){"use strict";n("2b12")},bbd2:function(e,t,n){"use strict";n("25d6")},df31:function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var l,a,o,r,i,s,c=n("2b0e"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",{attrs:{title:"表格1"}},[n("vue-jsx-table",{attrs:{columns:e.columns,tableData:e.tableData,border:"",currentPage:e.paginationParams.pageNo,total:100},on:{"page-change":e.pageChangeHandle,"update:currentPage":function(t){return e.$set(e.paginationParams,"pageNo",t)},"update:current-page":function(t){return e.$set(e.paginationParams,"pageNo",t)}},scopedSlots:e._u([{key:"expand",fn:function(){return[n("vue-jsx-table",{staticStyle:{width:"700px"},attrs:{columns:e.columns2,tableData:e.tableData,border:"",showPagination:!1},on:{"selection-change":e.selectionChange}})]},proxy:!0},{key:"edit",fn:function(t){var l=t.row;return[n("el-button",{attrs:{type:"text"},on:{click:function(t){return e.editHandle(l)}}},[e._v("编辑")]),n("br"),n("el-input",{model:{value:l.name,callback:function(t){e.$set(l,"name",t)},expression:"row.name"}})]}},{key:"slotHeader",fn:function(t){var l=t.column;return[n("span",[e._v("插槽表头： "+e._s(l.label))])]}}])})],1),n("br"),n("el-card",{attrs:{title:"设置展示字段"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.showGrate}},[e._v("展示年级")]),n("el-button",{attrs:{type:"primary"},on:{click:e.hideGrate}},[e._v("隐藏年级")]),n("vue-jsx-table",{attrs:{columns:e.columns3,tableData:e.tableData,border:"",showPagination:!1,showTableSetting:"",hideColumns:e.hideColumns}})],1)],1)},d=[],p=(n("99af"),n("5530")),h=(n("a9e3"),n("4de4"),n("caad"),n("2532"),n("159b"),n("d81d"),n("ade3")),f=(n("c7cd"),{name:"TableSlot",functional:!0,inject:["tableRoot"],props:{row:Object,index:Number,column:{type:Object,default:null}},render:function(e,t){return e("div",{},t.injections.tableRoot.$scopedSlots[t.props.column.slot]({row:t.props.row,column:t.props.column,index:t.props.index}))}}),b={name:"TableSlotHeader",functional:!0,inject:["tableRoot"],props:{column:{type:Object,default:null},scope:{type:Object,default:null}},render:function(e,t){return e("span",{},t.injections.tableRoot.$scopedSlots[t.props.column.slotHeader]({column:t.props.column,scope:t.props.scope}))}},m={name:"render-column",data:function(){return{}},components:{TableSlot:f,TableSlotHeader:b},props:{column:{type:Object,default:function(){}},align:{type:String,default:"left"},showOverflowTooltip:{type:Boolean,default:!0}},render:function(){var e=arguments[0],t=this,n=this.align,l=this.showOverflowTooltip,a=function(t){return t.showHeaderTooltip?e("el-tooltip",{attrs:{placement:"top",effect:"light",content:t.headerTooltipText}},[e("span",{class:t.cellredstar?"cell-header-red-star":""},[t.label,e("i",{class:"table-header-tip-icon el-icon-question"})])]):e("span",{class:t.cellredstar?"cell-header-red-star":""},[t.label])},o=function(t){return function(n){return t.renderHeader?t.renderHeader(t,n):t.slotHeader?e("table-slot-header",{attrs:{column:t,scope:n}}):a(t)}};function r(t){return e("el-table-column",{attrs:{label:t.label,prop:t.prop,width:t.width,fixed:t.fixed,align:n,showOverflowTooltip:void 0==t.showOverflowTooltip?l:t.showOverflowTooltip},scopedSlots:{default:function(e){var n=e.row,l=e.$index;return t.render(n,t,l)},header:o(t)}})}function i(a){var r;return e("el-table-column",{attrs:(r={label:a.label,prop:a.prop},Object(h["a"])(r,"label",a.label),Object(h["a"])(r,"prop",a.prop),Object(h["a"])(r,"width",a.width),Object(h["a"])(r,"fixed",a.fixed),Object(h["a"])(r,"sortable",a.sortable),Object(h["a"])(r,"align",n),Object(h["a"])(r,"showOverflowTooltip",void 0==a.showOverflowTooltip?l:a.showOverflowTooltip),r),scopedSlots:{default:function(n){var l=n.row,o=n.$index;return e("table-slot",{attrs:{row:l,column:a,$index:o,parent:t}})},header:o(a)}})}function s(t){var l=t.children;return e("el-table-column",{attrs:{label:t.label,align:n},scopedSlots:{header:o(t)}},[l.map((function(e){return d(e)}))])}function c(t){return e("el-table-column",{attrs:{label:t.label,type:"expand"},scopedSlots:{default:function(n){var l=n.row,a=n.$index;return t.render?t.render(l,t,a):e("table-slot",{attrs:{row:l,column:t,$index:a}})},header:o(t)}})}function u(t){return e("el-table-column",{attrs:{label:t.label,prop:t.prop,type:t.type,width:t.width,fixed:t.fixed,sortable:t.sortable,align:n,selectable:t.selectable,showOverflowTooltip:void 0==t.showOverflowTooltip?l:t.showOverflowTooltip,formatter:t.formatter},scopedSlots:{header:o(t)}})}function d(e){return e.render&&"expand"!==e.type?r(e):e.slot&&"expand"!==e.type?i(e):e.children?s(e):"expand"===e.type?c(e):u(e)}var p=this.column;return d(p)}},g=m,w=(n("5a60"),n("2877")),v=Object(w["a"])(g,l,a,!1,null,null,null),y=v.exports,C={name:"table-setting",data:function(){return{isIndeterminate:!0,checkAll:!1,checkedColumns:[],excludeHideColumns:[]}},props:{columnOptions:{type:Array,default:function(){return[]}},hideColumns:{type:Array,default:function(){return[]}}},mounted:function(){this.initCheckedColumns()},watch:{hideColumns:function(){var e=this;this.excludeHideColumns=this.columnOptions.filter((function(t){return!e.hideColumns.includes(t.label)}))}},methods:{initCheckedColumns:function(){var e=this;this.checkAll=!0,this.isIndeterminate=!1,this.excludeHideColumns=this.columnOptions.filter((function(t){return!e.hideColumns.includes(t.label)})),this.checkedColumns=this.excludeHideColumns.map((function(e){return e.label}))},handleCheckAllChange:function(e){this.checkedColumns=e?this.columnOptions.map((function(e){return e.label})):[],this.isIndeterminate=!1},handleCheckedColumnChange:function(e){var t=e.length;this.checkAll=t===this.columnOptions.length,this.isIndeterminate=t>0&&t<this.columnOptions.length},handleConfirm:function(){this.$emit("confirm",this.checkedColumns)}},render:function(){var e=this,t=arguments[0];return t("el-dialog",{attrs:Object(p["a"])({title:"表格设置"},this.$attrs),on:Object(p["a"])({},this.$listeners)},[t("div",{class:"table-setting-item"},[t("p",{class:"table-setting-item-title"},["字段显示设置"]),t("div",{class:"table-setting-item-content"},[t("el-checkbox",{attrs:{indeterminate:this.isIndeterminate},on:{change:this.handleCheckAllChange},style:"margin-bottom:10px;",model:{value:e.checkAll,callback:function(t){e.checkAll=t}}},["全选"]),t("el-checkbox-group",{on:{change:this.handleCheckedColumnChange},model:{value:e.checkedColumns,callback:function(t){e.checkedColumns=t}}},[this.excludeHideColumns.map((function(e){return e.label?t("el-checkbox",{attrs:{label:e.label},key:e.label,style:"margin-bottom:10px;"},[e.label]):null}))])])]),t("div",{slot:"footer"},[t("el-button",{on:{click:this.handleConfirm},attrs:{type:"primary"}},["确定"])])])}},S=C,x=(n("bbd2"),Object(w["a"])(S,o,r,!1,null,null,null)),O=x.exports,j=1,k={name:"vue-jsx-table",components:{RenderColumn:y,TableSetting:O},data:function(){return{page:{pageSize:10,currentPage:1},tableSettingDialogVisible:!1,selectedShowColumns:[]}},provide:function(){return{tableRoot:this}},props:{columns:{type:Array,default:function(){return[]}},hideColumns:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},columnsKeyName:null,align:{type:String,default:"left"},showPagination:{type:Boolean,default:!0},currentPage:{type:Number,default:1},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},pageSize:{type:Number,default:10},layout:{type:String,default:"sizes, prev, pager, next,total"},total:{type:Number,default:0},paginationStyle:{type:Object,default:function(){return{"margin-top":"15px"}}},selectable:{type:Function,default:function(){return!0}},showOverflowTooltip:{type:Boolean,default:!0},showTableSetting:{type:Boolean,default:!1}},mounted:function(){this.initSelectedShowColumns()},watch:{currentPage:function(e){this.page.currentPage=e},hideColumns:function(){this.initSelectedShowColumns()}},methods:{handleSizeChange:function(e){this.page.pageSize=e,this.$emit("size-change",e),this.$emit("page-change",this.page)},handleCurrentChange:function(e){this.$emit("current-change",e),this.page.currentPage=e,this.$emit("page-change",this.page)},openColumnSettingDialog:function(){this.tableSettingDialogVisible=!0},initSelectedShowColumns:function(){var e=this;this.selectedShowColumns=this.columns.filter((function(t){return!e.hideColumns.includes(t.label)}))},confirmTableSetting:function(e){this.selectedShowColumns.forEach((function(t){e.includes(t.label)?t.hide=!1:t.label&&(t.hide=!0)})),this.tableSettingDialogVisible=!1}},render:function(){var e=this,t=arguments[0],n=this;return t("div",{class:"z-table-wrapper"},[n.showTableSetting&&t("div",{class:"table-setting",on:{click:n.openColumnSettingDialog}},[t("i",{class:"el-icon-setting"})]),t("el-table",{attrs:{"highlight-current-row":!0,"header-row-class-name":"z-table-header",data:this.tableData},ref:"table",props:Object(p["a"])({},this.$attrs),on:Object(p["a"])({},this.$listeners)},[this.selectedShowColumns.map((function(n){return n.hide?null:t(y,{key:n.prop?n.prop:++j,attrs:{column:n,align:e.align,showOverflowTooltip:e.showOverflowTooltip}})}))]),n.showPagination&&t("div",{class:"z-table-pagination",style:n.paginationStyle},[t("el-pagination",{attrs:{background:!0,pageSizes:n.pageSizes,pageSize:n.pageSize,layout:n.layout,total:n.total},on:Object(p["a"])(Object(p["a"])({},{"update:currentPage":function(e){return n.page.currentPage=e}}),{},{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange})})]),t("table-setting",{attrs:{visible:n.tableSettingDialogVisible,columnOptions:n.columns,hideColumns:n.hideColumns},on:Object(p["a"])({},{"update:visible":function(e){return n.tableSettingDialogVisible=e},confirm:n.confirmTableSetting})})])}},T=k,P=(n("8b56"),Object(w["a"])(T,i,s,!1,null,null,null)),H=P.exports,$={name:"index",components:{vueJsxTable:H},data:function(){var e=this,t=this.$createElement;return{columns:[{type:"expand",slot:"expand"},{label:"姓名+表头红星",prop:"name1",width:160,cellredstar:!0},{label:"自定义表头",prop:"name2",width:120,sortable:!0,renderHeader:function(e,n){return console.log("scope",n),t("span",{class:"cell-header-red-star"},[e.label])}},{label:"姓名",prop:"name3",slotHeader:"slotHeader"},{label:"年龄",prop:"age",sortable:!0},{label:"多级表头",children:[{label:"年级",prop:"grade",width:120},{label:"班级",prop:"class",formatter:function(e){return"".concat(e.grade,":").concat(e.class)}}]},{label:"render",prop:"render",width:200,cellredstar:!0,render:function(n,l,a){return t("div",{on:{click:function(){return e.cellClick(n,l,a)}}},["测试render"])}},{label:"学校",prop:"school",width:200,showHeaderTooltip:!0,headerTooltipText:"学校tooltipText"},{label:"学费",prop:"fee",width:200},{label:"编辑",prop:"edit",slot:"edit",fixed:"right",width:200}],columns2:[{type:"selection",fixed:"left",selectable:this.rowSelectableHandle},{type:"expand",render:function(){return t("div",["通过render 函数自定义内容"])}},{label:"姓名",prop:"name"},{label:"年龄",prop:"age"}],tableData:[{name:"张三",name1:"张三",name2:"张三",name3:"张三",age:18,id:1,school:"一中",fee:2e3,grade:"高一",class:"一班"},{name:"李四",name1:"李四",name2:"李四",name3:"李四",age:19,id:2,school:"二中",fee:1e3,grade:"高二",class:"三班"}],columns3:[{label:"姓名",prop:"name"},{label:"年龄",prop:"age"},{label:"学校",prop:"school"},{label:"学费",prop:"fee"},{label:"年级",prop:"grade"},{label:"班级",prop:"class"}],paginationParams:{pageNo:1,pageSize:10},hideColumns:[]}},methods:{selectionChange:function(e){console.log("val",e)},cellClick:function(e,t,n){console.log("cellClick",e,t,n)},rowSelectableHandle:function(e){return 2===e.id},editHandle:function(e){console.log("editHandle:row",e)},pageChangeHandle:function(e){this.paginationParams.pageNo=e.currentPage,this.paginationParams.pageSize=e.pageSize},showGrate:function(){this.hideColumns=[]},hideGrate:function(){this.hideColumns=["年级"]}}},z=$,D=Object(w["a"])(z,u,d,!1,null,"3a53eff3",null),_=D.exports,A=n("5c96"),N=n.n(A);n("0fae");c["default"].use(N.a,{size:"mini"}),c["default"].config.productionTip=!1,new c["default"]({render:function(e){return e(_)}}).$mount("#app")}});
//# sourceMappingURL=index.bb2ec494.js.map